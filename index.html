<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rizoma — Fiesta de la Primavera</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <img src="assets/logo.svg" alt="Rizoma logo" class="logo" />
        <h1 class="site-title">Rizoma</h1>
      </div>
      <nav class="nav">
        <a href="#about">Quiénes somos</a>
        <a href="#camisetas">Camisetas</a>
        <a href="#news">Novedades</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-text">
          <h2>Fiesta de la Primavera</h2>
          <p class="lead">Jornada cultural para celebrar lo local.</p>
          <p class="cta">Próximo evento: <strong>4 de Abril 2026</strong></p>
        </div>
        <div class="hero-art">
          <img src="assets/hero-1.svg" alt="Ilustración naturaleza" />
        </div>
      </div>
    </section>

    <section id="about" class="section about">
      <div class="container">
        <h3>Quiénes somos</h3>
        <p class="muted">PLACEHOLDER: Breve introducción sobre Rizoma y su misión comunitaria. Aquí irá un resumen atractivo — a expandir con "Leer más".</p>
        <div class="about-text" id="aboutContent" style="display:none;">
          <p>En un mundo cada vez más homogéneo, donde el avance quimérico del neoliberalismo parece no tener fin. Bajo un sistema que nos conduce a sociedades cada vez más individualizadas en las que nuestro tiempo se divide entre tiempo de trabajo y de consumo compulsivo. Dentro de una economía en la que nuestra atención y nuestro pensamiento son constantemente instrumentalizados y manipulados por grandes compañías para sacar beneficio.</p>
          <p>Rizoma se atreve a imaginar un espacio que cuestione esa lógica, en el que celebrar los lazos de solidaridad que tejen a un pueblo crítico capaz de resistir y hacer frente. Celebramos la complicidad que solo se puede dar cuando reconoces a tus iguales. Cuando no los ves como máquinas de producir y consumir sino como partes heterogéneas de un todo que acaba siendo más que la suma de sus componentes.</p>
          <p>Por eso desde Rizoma estamos organizando este evento en el que ofrecer una plataforma para escuchar las voces que nunca aparecerán en los libros de historia, de música, de literatura o de filosofía, pero que expresan la pluralidad de un pueblo capaz de desplumar a un gallo que piensa que el corral es suyo.</p>
        </div>
        <button id="toggleAbout" class="toggle-btn">Leer más</button>
      </div>
    </section>

    <section id="camisetas" class="section camisetas">
      <div class="container">
        <h3>Reserva de Camisetas</h3>
        <p>Personaliza tu reserva: elige modelo, talla y cantidad. Completa el formulario y recibirás confirmación de tu pedido.</p>
        
        <div class="tshirt-form-wrapper">
          <form id="tshirtForm" class="tshirt-form">
            <!-- Selección de modelo -->
            <fieldset class="form-section">
              <legend>Modelo</legend>
              <div class="model-grid">
                <label class="model-card">
                  <input type="radio" name="model" value="modelo-1" required>
                  <div class="model-preview">
                    <div class="preview-front">Frente</div>
                    <div class="preview-back">Espalda</div>
                  </div>
                  <span>Modelo 1</span>
                </label>
                <label class="model-card">
                  <input type="radio" name="model" value="modelo-2">
                  <div class="model-preview">
                    <div class="preview-front">Frente</div>
                    <div class="preview-back">Espalda</div>
                  </div>
                  <span>Modelo 2</span>
                </label>
                <label class="model-card">
                  <input type="radio" name="model" value="modelo-3">
                  <div class="model-preview">
                    <div class="preview-front">Frente</div>
                    <div class="preview-back">Espalda</div>
                  </div>
                  <span>Modelo 3</span>
                </label>
              </div>
            </fieldset>

            <!-- Talla y cantidad -->
            <fieldset class="form-section">
              <legend>Detalles del pedido</legend>
              <div class="form-row">
                <div class="form-group">
                  <label for="size">Talla</label>
                  <select id="size" name="size" required>
                    <option value="">Selecciona talla</option>
                    <option value="XS">XS</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                    <option value="XXL">XXL</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="quantity">Cantidad</label>
                  <input type="number" id="quantity" name="quantity" min="1" max="50" value="1" required>
                </div>
              </div>
            </fieldset>

            <!-- Datos personales -->
            <fieldset class="form-section">
              <legend>Tus datos</legend>
              <div class="form-group">
                <label for="name">Nombre completo</label>
                <input type="text" id="name" name="name" required placeholder="Tu nombre">
              </div>
              <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required placeholder="tu@email.com">
              </div>
              <div class="form-group">
                <label for="phone">Teléfono (opcional)</label>
                <input type="tel" id="phone" name="phone" placeholder="Tu teléfono">
              </div>
            </fieldset>

            <button type="submit" class="submit-btn">Confirmar reserva</button>
          </form>

          <!-- Mensaje de confirmación (oculto por defecto) -->
          <div id="confirmationMessage" class="confirmation-message" style="display:none;">
            <div class="confirmation-content">
              <h4>✓ Reserva confirmada</h4>
              <p>Tu pedido ha sido registrado correctamente.</p>
              <p><strong id="confirmationDetails"></strong></p>
              <p class="muted">Recibirás más detalles en tu email.</p>
              <button class="reset-btn" onclick="document.getElementById('tshirtForm').reset(); document.getElementById('confirmationMessage').style.display='none'; document.getElementById('tshirtForm').style.display='block';">Hacer otra reserva</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="news" class="section news">
      <div class="container">
        <h3>Novedades</h3>
        <div class="posts">
          <article class="post">
            <img src="assets/hero-1.svg" alt="Post 1" />
            <div class="post-body">
              <h4>Título del post — PLACEHOLDER</h4>
              <p class="placeholder">PLACEHOLDER: Texto de ejemplo. Este texto es un marcador claro que debes reemplazar por contenido real antes de publicar.</p>
              <a class="read-more" href="#">Leer más</a>
            </div>
          </article>

          <article class="post">
            <img src="assets/hero-1.svg" alt="Post 2" />
            <div class="post-body">
              <h4>Actualización — PLACEHOLDER</h4>
              <p class="placeholder">PLACEHOLDER: Resumen breve de novedades.</p>
              <a class="read-more" href="#">Leer más</a>
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div>
        <strong>Rizoma</strong>
        <p class="muted">Celebrando la Primavera — comunidad & naturaleza</p>
      </div>
      <div class="footer-right">
        <p class="muted">
          <a href="https://www.instagram.com/rizoma.moron/" target="_blank" rel="noopener noreferrer" class="social-link">Síguenos en Instagram</a>
        </p>
      </div>
    </div>
  </footer>

  <script>
    // ============ TOGGLE ABOUT ============
    const toggleBtn = document.getElementById('toggleAbout');
    const aboutContent = document.getElementById('aboutContent');
    
    toggleBtn.addEventListener('click', () => {
      const isHidden = aboutContent.style.display === 'none';
      aboutContent.style.display = isHidden ? 'block' : 'none';
      toggleBtn.textContent = isHidden ? 'Leer menos' : 'Leer más';
    });

    // ============ FORMULARIO CAMISETAS ============
    const tshirtForm = document.getElementById('tshirtForm');
    const confirmationMessage = document.getElementById('confirmationMessage');

    tshirtForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      const formData = {
        timestamp: new Date().toISOString(),
        model: document.querySelector('input[name="model"]:checked').value,
        size: document.getElementById('size').value,
        quantity: document.getElementById('quantity').value,
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
      };

      // URL del Google Apps Script (reemplaza con tu URL)
      const SCRIPT_URL = 'https://script.google.com/macros/d/YOUR_SCRIPT_ID/usercallback';

      try {
        // Envío a Google Sheets
        const response = await fetch(SCRIPT_URL, {
          method: 'POST',
          mode: 'no-cors',
          body: JSON.stringify(formData),
        });

        // Mostrar confirmación
        document.getElementById('confirmationDetails').textContent = 
          `${formData.quantity} camiseta(s) - Modelo ${formData.model.split('-')[1]} - Talla ${formData.size}`;
        
        tshirtForm.style.display = 'none';
        confirmationMessage.style.display = 'block';

      } catch (error) {
        console.error('Error:', error);
        alert('Hubo un error en la reserva. Por favor intenta de nuevo.');
      }
    });
  </script>
</body>
</html>
